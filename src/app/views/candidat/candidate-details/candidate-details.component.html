<ngx-bootstrap-spinner></ngx-bootstrap-spinner>
<div class="row">
  <div class="col-sm-12">
    <div class="card">
      <div class="card-body">
        <div style="display: flex; flex-direction: column">
          <div style="display: flex; justify-content: center">
              <span><img src="assets/img/avatars/10.jpg" class="img-circle" style="float: left;"></span>
          <div style="display: flex; flex-direction: column">
              <span><b>{{gender}} {{prenom}} {{nom}}</b></span>
              <span>Email: {{email}}</span>
              <span>Téléphone: {{tel_mobile}}</span>
              <span *ngIf="poste_name !== undefined">Poste: {{poste_name}}</span>
          </div>
          </div>
          <mat-accordion class="example-headers-align"  multi style="margin-top: 15px;margin-bottom: 15px;margin-left: 15px;margin-right: 15px">
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title><strong>Information personnelle</strong>
                </mat-panel-title>
              </mat-expansion-panel-header>
              <form #f="ngForm" action="" method="post" class="form-horizontal">
                  <div class="card-body">
                      <div class="form-group">
                        <div class="form-group row"> <div>
                          <div class="form-group row">
                                <label class="col-md-3 col-form-label"><strong>Civilite</strong></label>
                                <div class="col-md-9">
                                  <select id="Civilite" [(ngModel)]="gender" name="Civilite" class="form-control size"
                                          [disabled]="disabled" required="required">
                                    <option value="Mr.">Monsieur</option>
                                    <option value="Mme.">Madame</option>
                                  </select>
                                </div>
                              </div>
                              <div class="form-group row">
                                <label class="col-md-3 col-form-label" for="nom"><strong>Nom</strong></label>
                                <div class="col-md-9">
                                  <input type="text" required="required" id="nom" name="nom" class="form-control size" placeholder="nom"
                                         [disabled]="disabled" [(ngModel)]="nom">
                                </div>
                              </div>
                              <div class="form-group row">
                                <label class="col-md-3 col-form-label" for="prenom"><strong>Prenom</strong></label>
                                <div class="col-md-9">
                                  <input type="text" required="required" id="prenom" name="prenom" class="form-control size" placeholder="prenom"
                                         [(ngModel)]="prenom" [disabled]="disabled">
                                </div>
                              </div>
                              <div class="form-group row">
                                <label class="col-md-3 col-form-label" for="dateDeNaissance"><strong>Date de
                                  naissance</strong></label>
                                <div class="col-md-9">
                                  <input class="form-control size" [disabled]="disabled" [(ngModel)]="birth_date" required="required" id="dateDeNaissance"
                                         type="date" name="dateDeNaissance" placeholder="date">
                                </div>
                              </div>
                              <div class="form-group row">
                                <label class="col-md-3 col-form-label" for="Email"><strong>Email</strong></label>
                                <div class="col-md-9">
                                  <input type="email" [(ngModel)]="email" required="required" id="Email" name="email-input" class="form-control size"
                                         placeholder="name@example.com" autocomplete="email" [disabled]="disabled">
                                </div>
                              </div>
                              <div class="form-group row">
                                <label class="col-md-3 col-form-label" for="Identité"><strong>Identité</strong></label>
                                <div class="col-md-9">
                                  <input type="text" id="Identité" name="Identité" required="required" class="form-control size" placeholder="Identité"
                                         [disabled]="disabled" [(ngModel)]="identity">
                                </div>
                              </div>
                              <div class="form-group row">
                                <label class="col-md-3 col-form-label" for="tel_mobile"><strong>Téléphone</strong></label>
                                <div class="col-md-9">
                                  <input type="text" id="tel_mobile" name="tel_mobile" class="form-control size"
                                         placeholder="tel_mobile" required="required" [disabled]="disabled" [(ngModel)]="tel_mobile">
                                </div>
                              </div>
                              <div class="form-group row">
                                <label class="col-md-3 col-form-label" for="TéléphoneFix"><strong>Téléphone fix</strong></label>
                                <div class="col-md-9">
                                  <input type="text" id="TéléphoneFix" name="Téléphone fix" class="form-control size"
                                         placeholder="Téléphone fix" [disabled]="disabled" [(ngModel)]="tel_fix" required="required">
                                </div>
                              </div>
                              <div class="form-group row">
                                <label class="col-md-3 col-form-label" for="Diplôme"><strong>Diplôme</strong></label>
                                <div class="col-md-9">
                                  <select [disabled]="disabled" [(ngModel)]="diplome" required="required" id="Diplôme" name="Diplôme"
                                          class="form-control size">
                                    <option *ngFor="let dip of listDiploma" [ngValue]="dip.diploma_id">
                                      {{dip.name}}
                                    </option>
                                  </select>
                                </div>
                              </div>
                              <div class="form-group row">
                                <label class="col-md-3 col-form-label" for="diploma_date"><strong>Date de diplome</strong></label>
                                <div class="col-md-9">
                                  <input class="form-control size" [disabled]="disabled" [(ngModel)]="diploma_date" id="diploma_date"
                                         type="date" name="dateDeNaissance" placeholder="date" required="required">
                                </div>
                              </div>
                              <div class="form-group row">
                                <label class="col-md-3 col-form-label" for="Ecole"><strong>Ecole</strong></label>
                                <div class="col-md-9">
                                  <select [(ngModel)]="ecole" [disabled]="disabled" required="required" id="Ecole" name="Ecole" class="form-control size">
                                    <option *ngFor="let university of listUniversity" [ngValue]="university.university_id">
                                      {{university.name}}
                                    </option>
                                  </select>
                                </div>
                              </div>
                              <div class="form-group row">
                                <label class="col-md-3 col-form-label" for="Nombre d'anné d'expérience"> <strong>Nombre d'année
                                  d'expérience</strong></label>
                                <div class="col-md-9">
                                  <input type="number" required="required" min="0" [disabled]="disabled" [(ngModel)]="nombreDanneDexperience"
                                         id="Nombre d'anné d'expérience"
                                         name="Nombre d'anné d'expérience"
                                         class="form-control size"
                                         placeholder="Nombre d'anné d'expérience">
                                </div>
                              </div>
                              <div class="form-group row">
                                <label class="col-md-3 col-form-label" for="Ex-employeurs"> <strong>Ex-employeurs</strong></label>
                                <div class="col-md-9">
                                  <input type="text" required="required" [disabled]="disabled" [(ngModel)]="Ex_employeurs" id="Ex-employeurs"
                                         name="Ex-employeurs"
                                         class="form-control size"
                                         placeholder="Ex-employeurs">
                                </div>
                              </div>
                              <div class="form-group row">
                                <label class="col-md-3 col-form-label" for="last_position"> <strong>Dernière
                                  position</strong></label>
                                <div class="col-md-9">
                                  <input type="text" required="required" [disabled]="disabled" [(ngModel)]="last_position" id="last_position"
                                         name="last_position"
                                         class="form-control size"
                                         placeholder="Dernière position">
                                </div>
                              </div>
                              <div class="form-group row">
                                <label class="col-md-3 col-form-label" for="Motivation"><strong>Motivation</strong></label>
                                <div class="col-md-9">
                                  <input type="text" required [disabled]="disabled" [(ngModel)]="Motivation" id="Motivation"
                                         name="Motivation" class="form-control size"
                                         placeholder="Motivation">
                                </div>
                              </div>
<!--                              <div class="form-group row">-->
<!--                                <label class="col-md-3 col-form-label" for="Poste"><strong>Poste</strong></label>-->
<!--                                <div class="col-md-9">-->
<!--                                  <select [disabled]="disabled" [(ngModel)]="poste" id="Poste" name="Poste" class="form-control">-->
<!--                                    <option *ngFor="let post of listPoste" [ngValue]="post.id_post">-->
<!--                                      {{post.post_name}}-->
<!--                                    </option>-->
<!--                                  </select>-->
<!--                                </div>-->
<!--                              </div>-->
                              </div>
                        </div>
                      </div>
                  </div>
                <div align="end" >
                  <button mat-button mat-dialog-close (click)="close()">Annuler</button>
                  <button mat-button [disabled]="f.invalid" [mat-dialog-close]="true" (click)="updateCandidate()" cdkFocusInitial>Enregistrer</button>
                </div>
              </form>
            </mat-expansion-panel>
          </mat-accordion>
        </div>
        <app-suivis [suivis] = suivis [candidature]= candidature [candidate]= result></app-suivis>
      </div>
    </div>
  </div>
  <div class="col-sm-6">
    <div class="card">
      <div class="card-body">
        <div class="container">
          <form [formGroup]="productForm" >
            <table class="table table-bordered" formArrayName="competences">
              <tr>
                <th colspan="2">Ajouter ces Competences:</th>
                <th width="150px"><button type="button" (click)="addCompetence()" class="btn btn-primary">Ajouter</button></th>
              </tr>
              <tr *ngFor="let competence of competences().controls; let i=index" [formGroupName]="i">
                <td>
                  Competence :
                  <select formControlName="competence" class="form-control" required="required">
                    <option [ngValue]="comp" *ngFor="let comp of ListCompetence">{{comp.competence_name}}</option>
                  </select>
                </td>
                <td>
                  Evaluation:
                  <input type="number" max="5" min="0" formControlName="evaluation" class="form-control" required="required">
                </td>
                <td>
                  <button (click)="deleteCompetences(i)" class="btn btn-danger">Supprimer</button>
                </td>
              </tr>
            </table>
            <button type="button" (click)="onSubmit()" class="btn btn-success ">Enregistrer</button>
          </form>
          <br/>
        </div>
        <ng2-smart-table [source]="listComptece" [settings]="setting"></ng2-smart-table >
      </div>
    </div>
  </div>
  <div class="col-sm-6" >
          <div class="card">
            <div class="card-body">
              <div class="container">
                <form [formGroup]="ProductForm" >
                  <table class="table table-bordered" formArrayName="avantages">
                    <tr>
                      <th colspan="2">Ajouter ces Avantages:</th>
                      <th width="150px"><button type="button" (click)="addAvantage()" class="btn btn-primary">Ajouter</button></th>
                    </tr>
                    <tr *ngFor="let avantage of avantages().controls; let i=index" [formGroupName]="i">
                      <td>
                        Avantage :
                        <select formControlName="avantage" class="form-control" required="required">
                          <option [ngValue]="avan" *ngFor="let avan of ListAvantage">{{avan.advantage_name}}</option>
                        </select>
                      </td>
                      <td>
                        Evaluation:
                        <input type="text"  required="required" formControlName="evaluation" class="form-control">
                      </td>
                      <td>
                        <button (click)="deleteAvanatges(i)" class="btn btn-danger">Supprimer</button>
                      </td>
                    </tr>
                  </table>
                  <button type="button" (click)="OnSubmit()" class="btn btn-success">Enregistrer</button>
                </form>
                <br/>
              </div>
        <ng2-smart-table [settings]="setings" [source]="listAvantage"></ng2-smart-table>
      </div>
    </div>
  </div>
</div>
